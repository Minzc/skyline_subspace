x_width=3.2;
y_width=2.4;
set(gcf, 'PaperPosition', [1 1 x_width*1.5 y_width*1.5]); %

%kronecker_graph

num = 0.1;

x_kronecker = [65536, 131072, 262144, 524288, 1048576];
y_kronecker = [
    0.172000
    0.616000
    1.770000
    170.610000
    1021.228000] / num;
y_kronecker_prune = [
    0.195000
    0.752000
    2.226000
    45.806000
    291.721000] / num;
%F1 = figure('Position', [100, 100, 400, 300]);
plot(x_kronecker, y_kronecker_prune, '-o', x_kronecker, y_kronecker, '-x');
xlabel('number of nodes');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'kronecker', 'eps');

%DBLP graph
x_DBLP = [200 400 600 800 1000];

y_DBLP = [
    2.999000
    6.080000
    190.903000
    381.250000
    3014.208000] / num;
y_DBLP_prune = [
    2.913000
    3.123000
    10.268000
    19.809000
    172.971000] / num;
%figure(2);
plot(x_DBLP, y_DBLP_prune, '-o', x_DBLP, y_DBLP, '-x');
xlabel('number of conference');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'DBLP', 'eps');

% Yelp Top20
x_Yelp = [50 100 150 200 250];
y_Yelp = [
    0.749000
    3.447000
    16.209000
    35.101000
    61.044000] / num;
y_Yelp_prune = [
    0.717000
    2.075000
    8.144000
    16.054000
    23.151000] / num;

%figure(3);
plot(x_Yelp, y_Yelp_prune, '-o', x_Yelp, y_Yelp, '-x');
xlabel('radius(meter)');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'YelpTop20Labels', 'eps');

% Yelp 300 Labels. Radius on X-axis.
x_Yelp_label = [500 1000 5000 10000 20000];
y_Yelp_label = [
    0.1560
    0.6080
   29.7220
   30.3770
   58.2350] / num;
y_Yelp_label_prune = [
    0.1570
    0.5150
   19.9390
   20.3900
   35.2410] / num;

%figure(4);
plot(x_Yelp_label, y_Yelp_label_prune, '-o', x_Yelp_label, y_Yelp_label, '-x');
xlabel('radius(meter)');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'Yelp300Labels', 'eps');

% Yelp fixed radius 10000 meters.
x_Yelp_radius = [200 250 300 350 400];
y_Yelp_radius = [
    0.9710
    1.4760
   30.4000
  104.6090
  409.8500] / num;
y_Yelp_radius_prune = [
    0.7490
    1.0300
   20.7630
   70.9940
  313.3170] / num;

%figure(5);
plot(x_Yelp_radius, y_Yelp_radius_prune, '-o', x_Yelp_radius, y_Yelp_radius, '-x');
xlabel('number of labels');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'Yelp10Kmeters', 'eps');

% Facebook Dataset
y_FB_prune = [0 0 0 0 16 0 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 ;
16 0 0 0 0 0 0 16 0 0 0 0 0 15 0 0 0 0 0 0 16 0 0 0 0 0 0 15 0 0 0 0 0 16 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 15 0 0 0 0 0 0 16 0 0 0 0 0 0 0 16 0 0 0 0 0 0 15 0 0 0 0 0 0 0 16 0 0 0 0 ;
16 0 0 0 0 16 0 0 0 15 0 0 0 16 0 0 0 0 15 0 0 0 0 16 0 0 0 16 0 0 0 0 15 0 0 0 0 16 0 0 0 0 0 15 0 0 0 0 16 0 0 0 0 0 16 0 0 0 0 0 0 15 0 0 0 16 0 0 0 0 15 0 0 0 0 0 16 0 0 0 0 16 0 0 0 0 15 0 0 0 16 0 0 0 0 0 15 0 0 0 ;
16 0 0 16 0 15 0 16 0 31 16 0 0 15 0 0 16 0 0 15 16 0 0 16 0 15 16 0 0 15 0 16 0 0 16 0 0 15 0 0 16 0 0 0 15 0 0 16 0 0 0 16 0 0 0 0 15 0 0 16 0 0 0 0 15 16 0 16 0 0 15 0 16 0 0 0 15 16 16 0 0 15 0 16 0 0 0 15 0 0 16 0 0 16 15 16 0 15 0 16 ;
47 15 0 16 62 63 15 47 16 218 63 15 47 16 0 0 78 0 62 62 47 31 16 0 47 78 63 0 47 62 63 31 62 16 0 78 0 16 0 46 16 31 0 0 16 15 0 0 16 16 0 15 31 0 0 0 16 0 16 15 0 16 0 0 95 63 31 0 47 15 0 63 31 0 16 0 15 281 31 0 47 47 15 47 0 16 31 16 0 78 46 0 16 0 296 63 0 62 31 16 ;
];
y_FB = [
    0 0 16 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 15 0 0 0 0 0 0 0 0 0 ;
0 16 0 0 0 0 0 16 0 0 0 0 0 15 0 0 0 0 0 0 16 0 0 0 0 15 0 0 0 0 0 0 16 0 0 0 0 0 16 0 0 0 0 0 0 15 0 0 0 0 0 0 16 0 0 0 0 0 0 0 15 0 0 0 0 0 16 0 0 0 0 0 0 16 0 0 0 0 0 0 15 0 0 0 0 0 16 0 0 0 0 0 0 15 0 0 0 0 16 0 ;
16 0 0 16 0 15 0 0 16 0 15 0 0 0 16 0 0 0 16 0 15 0 0 16 0 0 15 0 0 16 0 16 0 0 0 15 0 0 16 0 0 15 0 0 0 16 0 0 0 16 0 0 0 0 15 0 0 0 0 16 0 0 0 0 15 0 16 0 0 16 0 0 15 0 0 0 16 0 0 0 15 0 16 0 0 0 16 0 0 15 16 0 0 0 15 0 0 16 0 0 ;
47 16 0 15 47 31 16 31 31 63 32 16 46 0 16 16 15 1 47 47 16 31 16 31 31 47 31 0 47 31 31 16 47 15 16 47 0 15 16 47 15 31 0 0 32 15 0 16 15 16 0 31 31 0 0 0 16 16 15 16 0 15 0 0 47 47 16 0 31 31 0 31 16 15 16 0 31 78 0 0 31 47 16 31 16 0 46 0 32 46 47 0 16 0 78 31 16 31 47 15 ;
359 78 0 47 296 250 78 234 78 499 205 62 297 31 62 0 203 16 296 237 141 171 78 47 343 250 234 31 328 298 234 47 296 63 15 297 31 47 31 327 63 109 16 15 94 62 16 0 93 63 0 47 109 15 0 0 63 31 62 32 0 62 16 0 234 280 94 0 250 78 0 234 93 31 63 0 62 642 47 0 171 343 78 299 15 16 343 31 47 312 343 63 0 15 640 140 63 265 187 78 ;
];

x_FB = [4 8 12 16 20];
y_FB_prune = mean(y_FB_prune, 2);
y_FB = mean(y_FB, 2);
%figure(6);
plot(x_FB, y_FB_prune, '-o', x_FB, y_FB, '-x');
xlabel('number of labels');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'FB', 'eps');

% Synthetic Spatial Data
x_Spatial = [4000 10000 20000 30000 40000];
y_Spatial = [
    0.021000
    0.440000
    14.974000
    95.158000
    419.697000] / num;
y_Spatial_prune = [
    0.184000
    0.653000
    4.961000
    17.197000
    51.248000] / num;
%figure(7);
plot(x_Spatial, y_Spatial_prune, '-o', x_Spatial, y_Spatial, '-x');
xlabel('Radius(meter)');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'Spatial', 'eps');


% Facebook Dataset
y_FB_prune_dense = [94 109 31 78 62 18 45 63 78 47 31 63 47 62 172 62 47 47 62 31 63 46 110 68 47 31 109 63 31 62 125 78 16 62 62 47 47 31 16 62 63 50 31 94 46 78 47 63 31 31 31 63 31 62 47 47 62 31 16 109 63 4 25 96 63 64 78 47 109 47 31 31 31 16 78 205 31 113 62 47 62 31 63 47 15 78 109 203 31 78 110 46 52 47 110 31 31 47 31 47 ;
63 78 62 78 94 110 95 125 62 47 125 78 78 62 78 109 78 94 112 31 125 109 125 94 62 62 63 125 78 64 130 125 62 32 140 47 93 47 109 47 47 78 79 94 109 62 78 63 62 63 46 125 94 109 78 70 127 62 31 63 93 63 31 78 62 125 94 62 115 137 47 125 46 125 78 141 46 125 94 62 83 47 78 78 78 47 62 125 31 47 125 47 62 78 128 47 125 125 140 78 ;
63 140 79 98 46 125 47 141 63 93 125 65 93 47 62 64 98 47 125 16 125 124 94 94 46 63 125 125 82 93 110 124 63 62 125 109 63 78 78 53 73 109 65 62 125 62 78 94 94 31 78 109 148 78 63 62 94 140 78 62 94 62 125 63 62 130 94 47 109 109 62 125 31 125 78 109 100 94 47 93 63 46 63 48 78 62 47 125 93 63 78 16 84 31 78 78 93 125 141 62 ;
63 47 15 63 47 51 62 47 47 46 47 47 62 156 63 62 31 63 62 31 47 63 43 86 47 47 47 124 63 62 63 62 31 31 141 62 16 62 63 65 32 46 78 63 78 47 46 63 78 31 62 32 46 16 47 15 47 31 63 50 11 83 124 78 63 15 63 78 62 78 47 47 47 15 63 125 67 78 47 47 78 47 78 78 46 63 62 125 78 47 78 11 85 78 63 16 79 47 47 62 ;
32 0 0 15 16 0 15 16 16 15 16 15 16 0 0 16 15 0 31 16 16 15 0 0 16 15 16 0 16 15 16 0 15 16 0 16 0 0 15 1 0 3 6 4 5 7 4 4 4 4 3 4 16 18 15 0 0 0 16 0 16 0 0 0 31 15 16 16 0 15 0 16 15 0 16 0 0 31 16 0 15 16 0 16 0 15 16 0 0 15 16 16 0 0 31 15 16 0 16 15 ;];
y_FB_dense = [
    268 609 550 265 359 191 140 156 312 265 79 175 156 282 1126 2271 174 297 375 172 253 266 532 813 250 83 546 658 110 265 735 802 158 125 296 250 151 131 47 249 390 254 110 514 660 343 377 406 203 78 78 234 226 250 265 172 283 172 31 515 783 156 31 513 790 375 390 268 577 676 109 78 78 47 250 1159 2287 515 801 266 298 171 266 251 63 235 671 1586 2300 265 676 664 198 156 565 579 78 141 109 140 ;
500 912 483 1091 1603 785 515 972 626 801 766 631 1633 3393 1092 3326 484 1021 2626 232 821 863 907 1032 1671 979 475 910 1199 3116 929 1109 310 260 859 320 1054 1141 1010 1032 742 447 1057 1891 2129 876 1682 3254 1101 3040 641 1009 496 916 835 1416 1781 1076 167 483 1041 1227 747 443 1211 3574 1115 1814 859 991 656 1235 341 899 1040 2471 601 1119 559 635 857 285 458 460 1088 2298 610 1542 220 574 1351 336 1047 2113 843 286 856 979 888 1158 ;
1020 1593 848 1028 793 562 508 625 1119 3187 567 583 1625 1149 1095 2325 322 943 1098 123 530 579 714 858 589 627 539 549 1099 3268 682 567 348 314 539 828 933 525 966 1429 1395 612 850 1068 1822 605 1542 1185 967 981 1388 622 550 754 980 1280 989 612 883 484 756 545 686 433 1084 1957 903 480 622 713 907 675 255 547 951 1053 870 688 371 857 453 455 419 294 1008 1618 675 780 992 1053 850 264 1020 1076 617 330 709 577 551 1050 ;
688 702 19 757 1125 303 617 309 966 2682 145 987 3163 772 1154 3159 240 617 679 258 196 309 322 848 3143 783 205 433 702 1074 702 286 231 122 429 395 43 552 862 1103 365 236 501 670 672 1059 3343 1224 976 1069 1033 234 282 20 606 189 804 2512 615 460 60 751 1021 543 897 2558 531 556 574 652 838 695 963 2476 649 1070 585 522 338 816 933 708 917 314 785 1433 2905 598 810 1297 1006 386 541 472 393 166 789 806 149 965 ;
109 19 4 24 94 91 31 84 28 73 87 28 104 20 25 8 90 14 79 120 48 107 16 7 105 46 87 18 103 94 110 32 91 13 12 103 15 22 16 105 16 33 10 11 7 23 9 6 7 6 8 7 74 8 7 6 7 8 18 24 4 24 14 8 66 63 94 13 78 31 9 84 44 18 9 8 7 84 11 6 104 110 27 85 15 14 102 24 24 92 109 22 15 7 83 36 25 81 92 16 ;
];
y_FB_prune_dense = flipud(y_FB_prune_dense);
y_FB_dense = flipud(y_FB_dense);
x_FB_dense = [1000 200 40 20 5];
x_FB_dense = (x_FB_dense .^ -1)*20;
y_FB_prune_dense = mean(y_FB_prune_dense, 2);
y_FB_dense = mean(y_FB_dense, 2);
%figure(6);
semilogy(x_FB_dense, y_FB_prune_dense, '-o', x_FB_dense, y_FB_dense, '-x');
xlabel('label density');
ylabel('running time(ms)');
legend('pruning', 'naive', 'Location', 'northwest');
saveas(gcf, 'FB_dense', 'eps');

    
